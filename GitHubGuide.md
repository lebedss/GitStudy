# Удалённые репозитории --> GitHub

Чтобы воспользоваться сервисом, нужно зайти на сайт GitHub (https://github.com/) и зарегистрировать нового пользователя. Придумайте имя и пароль, а также введите e-mail, к которому у вас есть доступ:

[Это выглядит как-то так](Project_Images/CreateAccountOnGitHub.png)

Не забудьте верифицировать аккаунт: откройте первое письмо на почте от GitHub и пройдите по ссылке. Иначе вы не сможете создавать репозитории.

Теперь, когда у вас есть свой аккаунт, нужно залогиниться в самой консоли (привет, любимый терминал!), чтобы связать их. Для этого понадобится выполнить команды в консоли, которые зададут имя пользователя и почтовый ящик.

*git config --global user.name "user-name"*

*git config --global user.email "email@example.com"*

Вместо user-name подставьте логин, который указывали при регистрации. В случае на скриншоте это test-github-04, а вместо email@example.com — адрес вашей электронной почты. В данном примере — testgithub@gmail.com.

[Вот что у нас должно получиться](Project_Images/adjusting_github_account_details_via_git.png)

Если вы всё сделали по инструкции, то при выполнении команды *git config --list* отобразится [ваше имя пользователя и e-mail](Project_Images/AdjustingGitHubAccountDetailsViaGit2.png)

**Если на момент регистрации акаунта на GitHub вы уже настроили и установили сам Git и при этом Вы уже внесли какие-то данные - не переживайте, просто воспользуйтесь выше указанными командами и обновите имя пользователя и e-mail используя новые данные которые вы вносили при регистрации на GitHub**

# Как опубликовать первый проект на GitHub:
Зайдите в ваш профиль: для этого кликните по иконке в правом верхнем углу и нажмите 
[Your Profile](Project_Images/HowToStartNewProjectOnGitHub.png)

Теперь создайте репозиторий: перейдите во вкладку Repositories и кликните по кнопке 
[New](Project_Images/NewRepositoriyCreation.png)

Задайте имя репозитория. На скриншоте название проекта test-github и он сделан публичным, чтобы его могли просматривать все пользователи. Далее нажмите кнопку:
[Create repository](Project_Images/Create_a_new_repository.png)

Пока проект пустой, но мы можем поместить в него наши файлы с нашего компьютера.

Чаще всего используют протокол HTTPS — с ним проще работать с Git, чем с SSH. 

Подробнее про различия протоколов можно прочитать в приложенной к данному проекту документации: 
[см. стр.109](Project_Documentation/progit.pdf)

Github предлагает [несколько вариантов действий при создании проекта:](Project_Images/OptionsForRepositoriesCreation.png)

0. Клонировать папку нашего проекта согласно выбранному протоколу HTTPS либо SSH 
1. Создать абсолютно новый проект с нуля 
2. Опубликовать на GitHub уже созданный "локальный" проект размещенный на компьютере.
3. Скопировать и импортировать на GitHub чей-то проект из другого репозитория

*Давайте разбираться что все это собственно значит :-)*

# __Что же такое клонирование?__

Это копирование удаленного репозитория на локальную машину. Обычно это первое действие при работе с проектом. При клонировании на нашу машину копируются файлы и папки проекта и вся его история. То есть мы получаем доступ к истории не с момента начала нашей работы над проектом, а с самого начала проекта.

__Как клонировать готовый проект?__

В первую очередь, нужно получить ссылку на проект. Мы можем найти ее сами или получим готовую, например, на новой работе. Возьмем для примера мой репозиторий lebedss - https://github.com/lebedss/GitStudy.git

Наберем в командной строке  терминала в  нашей среде разработки (в данном случае VS CODE):

*git clone https://github.com/lebedss/GitStudy.git*

При этом в текущем каталоге создастся папка GitStudy, в ней окажутся все файлы проекта GitStudy и специальная скрытая папка .git, то есть сам репозиторий, или информация о нем. При использовании команды *git clone <url репозитория>* мы не только загружаем себе копию репозитория, но и неявно отслеживаем удалённый сервер, который находится по указанному адресу и которому присваивается имя origin.

__Как клонировать проект в другую папку?__
При клонировании по умолчанию создается папка с таким же названием, как и у репозитория. Но можно склонировать репозиторий и в другую папку вот так

*git clone https://github.com/lebedss/GitStudy.git new_specific_folder*

Где new_specific_folder - нужное название папки.

# Создание проекта на GitHub с нуля:

[При помощи команды cd нужно найти нужную папку](Project_Images/HowToFindCorrectDirectoryForNewProject.png)

Поэтапно следуем командам которые предлагает нам GitHub:

1. echo "# YourRepositoryName" >> README.md
2. git init
3. git add README.md
4. git commit -m "first commit"
5. git branch -M main
6. git remote add origin https://github.com/YourGitHubName/YourRepositoryName.git
7. git push -u origin main

**1-ая команда:**

echo "# YourRepositoryName" >> README.md добавляет новый файл в проект. 

[Его также можно создать вручную в папке](Project_Images/EchoReadmeMD.png)

**2-ая команда:**

[git init — инициализирует проект.](Project_Images/GitInit.png)

После инициализации создаётся специальная скрытая папка для Git:

__Тут необходимо заглянуть [сюда](GitNavigationUsingTerminal.md) для пояснения ряда команд на скриншотах.__

**3-ая команда:**
[git add README.md — добавляет изменённые файлы к коммиту](Project_Images/git_add_READMEmd.png)
Также это можно сделать при помощи команды git add . — в таком случае вы добавите не конкретные файлы, а все изменённые, если их много.
[git status поможет проверить, что происходит с изменёнными файлами.](Project_Images/git_status.png)
В нашем случае, например, файлы не прикреплены к коммиту

**4-ая команда:**

[git commit -m "first commit" добавляет сообщение к коммиту — то, что будет отображаться в истории](Project_Images/git_commit_m_first_commit.png)
Теперь снова посмотрим, что скажет git status. Сейчас он пустой, так как все изменённые файлы мы прикрепили к только что созданному коммиту

**5-ая команда:**

[git branch -M main переименовывает ветку в main](Project_Images/git_branch_M_main.png)
В нашем примере текущая ветка называется master. Но с 2020 года GitHub выступает за то, чтобы главная ветка называлась main (по политическим причинам) и рекомендует переименовать ветку с помощью команды git branch -M main.

В скобках можно указать любой текст. Как правило, в нём кратко описывают, что делали в коммите.
Теперь снова посмотрим, что скажет git status. Сейчас он пустой, так как все изменённые файлы мы прикрепили к только что созданному коммиту

**6-ая команда:**

[Получаем такой результат](Project_Images/git_remote_add_origin.png)

Команда git remote add origin https://github.com/YourGitHubName/YourRepositoriyName.git добавляет сервер, где origin — это имя сервера, а url — это адрес.
У вас может быть несколько удалённых серверов, с которыми работает проект. 
Проверить добавленные сервера можно командой *git remote -v* (fetch — откуда забирать, push — куда отправлять изменения).

**7-ая команда:**

[git push -u origin main позволяет запушить (отправить) ветку main на сервер origin](Project_Images/git_push_u_origin_main.png)

__Тут вам, скорее всего, потребуется связать приложение и GitHub, повторно залогинившись через браузер.__

# Опубликовать на GitHub уже существующий "локальный" проект (размещенный на компьютере) с помощью терминала:

"push an existing repository from the command line"

Предполагается, что вы создали свой репозиторий на GitHub, и в настоящее время он пуст.
Наш локальный проект на компьютере  может размещается в любом каталоге. Для него нужно инициализировать git. 
Это стандартная процедура: *git init* + *git add .* + *git commit -m "Initinal commit"*

Поэтапно следуем командам которые предлагает нам GitHub:

**1-ая команда:**

*git remote add origin https://github.com/YourGitHubName/YourRepositoriyName.git*

Для связи с GitHub указали удаленный репозиторий. 

[Адрес на сайте Github](Project_Images/RepositoriyAdress.png)

**2-ая команда:**

*git branch -M main*

Переименовываем главную ветку в main 

**3-ая команда:**

*git push -u origin main*

Отправляем все изменения на сервер GitHub. Если мы теперь зайдем на страницу репозитория на GitHub, то увидим свой проект.

# Импортировать код из какого-то другого репозитория в свой:

1. [Жмём кнопку Import Code](Project_Images/import_code_from_another_repository1.png)

2. [Вставляем ссылку на репозиторий который хотим импортировать](Project_Images/import_code_from_another_repository2.png) и нажимаем Begin import

3. [Ждём когда процесс импорта закончится](Project_Images/import_code_from_another_repository3.png)


__Наиболее употребляемые команды для работы с удалёнными репозиториями:__

* *git remote -v* выводит список удалённых репозиториев, которые мы отслеживаем, и имена, которые мы им присвоили.
* *git remote add <имя> <url>* — добавляет удалённый репозиторий с заданным именем;
* *git remote remove <имя>* — удаляет удалённый репозиторий с заданным именем;
* *git remote rename <старое имя> <новое имя>* — переименовывает удалённый репозиторий;
* *git remote set-url <имя> <url>* — присваивает репозиторию с именем новый адрес;
* *git remote show <имя>* — показывает информацию о репозитории.

__Следующие команды работают с удалёнными ветками:__

* *git fetch <имя> <ветка>* — получает данные из ветки заданного репозитория, но не сливает изменения;
* *git pull <имя> <ветка>* — сливает данные из ветки заданного репозитория;
* *git push <имя> <ветка>* — отправляет изменения в ветку заданного репозитория. Если локальная ветка уже отслеживает удалённую, то можно использовать просто *git push* или *git pull.*

Команда git pull отвечает за скачивание данных с сервера. Процесс очень похож на клонирование репозитория, но здесь скачиваются не все коммиты, а только новые. 

По сути, git pull — это сочетание команд git fetch (загружает коммиты, ссылки, файлы из удаленного репозитория в локальный) и git merge (объединяет несколько коммитов в один общий).
Команда git merge связывает ряд коммитов в одно целое. В свою очередь git создает коммит слияния, где и объединяются изменения обеих последовательностей.

На первой стадии git pull выполняется команда fetch, ограниченная локальной веткой. Затем команда git pull выполняет слияние и формируется новый коммит.

# GitHub - Внесение собственного вклада в другие проекты *Создание ответвлений (fork)*

Если вы хотите вносить свой вклад в уже существующие проекты, в которых у нас нет прав на внесения изменений путём отправки (push) изменений, вы можете создать своё собственное ответвление (fork) проекта. Это означает, что GitHub создаст вашу собственную копию проекта, данная копия будет находиться в вашем ведении и вы сможете легко делать изменения путём отправки (push) изменений.

* Шаг 1-ый: для того, чтобы создать ответвление проекта, зайдите на страницу проекта на GitHub и нажмите кнопку «Создать ответвление» («Fork»),[нажимаем кнопку](Project_Images/forkbutton.png) которая расположена в правом верхнем углу. [Просто тыкни](Project_Images/Fork.png))

* Шаг 2-ой: [клонируйте проект на свою машину](Project_Images/CloneYourProjectToPC.png)
Перейдите в свой "форк" репозитория (который теперь находится в ваших репозиториях GitHub).Затем клонируйте проект на свой компьютер, введя в окне вашего терминала:*git clone <скопированный-адрес>*
Переходим в клонированную директорию:*cd [имя репозитория]*

* Шаг 3-ий: [создание upstream](Project_Images/UpstreamCreation.png)
Вам нужно отслеживать разницу между вашим "форком" репозитория в вашем аккаунте на GitHub и оригинальным репозиторием. Это особенно полезно, если вы хотите принять участие в работе над каким-то популярным репозиторием. Некоторые репозитории делают слияние "пул-реквестов" каждый час или даже чаще, так что вам нужно следить за тем, чтобы ваш форк не отставал от оригинального репозитория. В этом вам поможет upstream - "верхнее течение" c английского языка.
Для создания ссылки на оригинальный репозиторий введите в терминале следующую команду:
*git remote add upstream <скопированный-адрес-upstream>* (скопированный-адрес-upstream это  оригинального репозитория от которого мы делали ответвление, а не сам форк) 
[Визуально это выглядит вот так](Project_Images/Fork-Repository.png)

Далее можно выполнить команду *git pull upstream master* чтобы убедиться, не произошло ли каких-то изменений (с того момента как вы сделали форк и до настоящей минуты).

* Шаг 4-ый: создание отдельной новой ветки (branch), над которой вы будите работать.
Когда вы хотите что-либо изменить в проекте, будет хорошей идеей создать для этих изменений отдельную ветку. Это будет демонстрировать, что ветка предназначена только для той работы, которую вы хотите сделать. Такой работой может быть и исправление опечатки, и реализация новой фичи. В любом случае, будет хорошим тоном создать новую ветку.
Также имеет значение присвоение имён. Будет любезно с вашей стороны использовать имя, которое легко сможет понять человек, ничего не знающий об этом репозитории. Например, если вы хотите добавить возможность логиниться в приложении, можно создать ветку под названием new_branch_for_login_feature
Для создания ветки введите в терминале следующую команду:*git checkout -b new_branch* 
Будет создана ветка и сразу осуществлен переход в нее.
После этого можно начинать вносить свои изменения в ветку (исправлять опечатку, писать код фичи и т. д.).

* Шаг 5: Git add и commit изменений
Это тоже достаточно просто. Вам нужно подготовить ваши изменения и сделать коммит (запись изменений), введя следующие команды в терминале: *git add .* +  *git commit -m 'Сообщение коммита'* Теперь ваши изменения подготовлены и записаны в ваш репозиторий.

* Шаг 6: pull (получение данных) из upstream в вашу ветку
Этот шаг сольет (merge) любые изменения, произошедшие в upstream (оригинальном репозитории), с вашей веткой, чтобы избежать конфликтов.
*git pull upstream <имя-ветки над которой вы работаете>*

* Шаг 7: push (помещение данных) в ветку, в которой вы работаете
Все почти готово. «Пушим» изменения в свою рабочую ветку:*git push origin <имя-ветки над которой вы работаете>*

Шаг 8: [нажимаем Compare & pull request](Project_Images/PullRequest.png) на GitHub

Это финальный шаг, который делает контрибутор open source проекта. На этом этапе вы будто говорите: «Я внес некоторые изменения, не будете ли вы так любезны добавить их в проект?»
Вы открываете pull request, и если собственнику репозитория или людям, занимающимся его поддержкой, ваши изменения понравятся, они сольют их со своим проектом (merge). Также они могут внести какие-то изменения, а уж затем выполнить слияние, или запросить эти изменения. Для открытия pull request перейдите в ваш fork репозитория, как показано ниже. Вы увидите последнюю ветку, в которую вы делали push. Кликните на «compare and pull request». [Четко поясните, что именно вы изменили, и создайте pull request](Project_Images/CreatePullRequest.png)

**Комментарии очень важны: присвойте имя и сделайте описание максимально чётким лаконичным и ёмким!**

[Создание комментариев для pull request](Project_Images/CommentsForPullRequest.png)

[Полученный комментарий через pull request](Project_Images/CommentsForPullRequestsWereSent.png)

В конечном счёте владелец проекта которому прислали pull request может либо принять предлагаемые изменения - кнопка: confirm merge либо же отклонить - кнопка: close pull request. 

Именно благодаря наличию системы комментариев отсеивается огромное количество конфликтов и багов...
[Выглядит это так](Project_Images/MergePullRequest.png)

**Заключение о создании ответвлений (fork):** 

Данная схема работы над проектами очень удобна  - главное осознать и  запомнить 

[алгоритм создания и работы с fork](Project_Images/1_Pull-Request.png)
